<div id="main-layout" class="panes-full row">
	<div id="loading">
		<span class="faa-spin animated fa fa-spinner"></span>
	</div>
	<div class="pane-serach pane-base">
		<!-- 検索エリア -->
		<div class="pane-serach-body">
			<uib-tabset justified="true">
				<!-- 検索エリア - ツリー検索 -->
				<uib-tab ng-if="checkKensakuTabVisible(Const.KENSAKU_TAB_TREE)" active="searchAreaTabs[Const.KENSAKU_TAB_TREE].active" index="Const.KENSAKU_TAB_TREE" select="selectTab(Const.KENSAKU_TAB_TREE)">
					<uib-tab-heading ng-title="'tree_hyoji'|translate" tooltip>
						<span class="icon icon-pw-tree"></span>
					</uib-tab-heading>
					<!-- 検索エリア - ツリー検索 -->
					<span ng-repeat="tree in $parent.treeSearchView">
						<abn-tree ng-if="tree.type == Const.KOZO_KBN_TREE" tree-data="tree.data" tree-control="tree.controller" icon-leaf="icon-blank" icon-expand="glyphicon glyphicon-chevron-right" icon-collapse="glyphicon glyphicon-chevron-down" expand-level={{Const.TREE_EXPAND_LEVEL}}
							on-select="selectTree($index)" context-menu="menuOptions()"></abn-tree>
						<abn-tree ng-if="tree.type == Const.KOZO_KBN_FOLDER" tree-data="tree.data" tree-control="tree.controller" icon-leaf="icon-blank" icon-expand="fa fa-folder" icon-collapse="fa fa-folder-open" expand-level={{Const.TREE_EXPAND_LEVEL}}
							on-select="selectTree($index)" context-menu="menuOptions()"></abn-tree>
						<abn-tree ng-if="tree.type == Const.TREE_KOZO_KBN_STAR" tree-data="tree.data" tree-control="tree.controller" icon-leaf="glyphicon glyphicon-star" icon-expand="glyphicon glyphicon-star" icon-collapse="glyphicon glyphicon-star" expand-level={{Const.TREE_EXPAND_LEVEL}}
							on-select="selectTree($index)" context-menu="menuOptions()"></abn-tree>
						<abn-tree ng-if="tree.type == Const.TREE_KOZO_KBN_JOKEN" tree-data="tree.data" tree-control="tree.controller" icon-leaf="glyphicon glyphicon-search" icon-expand="glyphicon glyphicon-search" icon-collapse="glyphicon glyphicon-search" expand-level={{Const.TREE_EXPAND_LEVEL}}
							on-select="selectTree($index)" context-menu="menuOptions()"></abn-tree>
						<abn-tree ng-if="tree.type == Const.TREE_KOZO_KBN_TRASH_BOX" tree-data="tree.data" tree-control="tree.controller" icon-leaf="glyphicon glyphicon-trash" icon-expand="glyphicon glyphicon-trash" icon-collapse="glyphicon glyphicon-trash" expand-level={{Const.TREE_EXPAND_LEVEL}}
							on-select="selectTree($index)" context-menu="menuOptions()" class="ios-non-disp"></abn-tree>
					</span>
				</uib-tab>
				<!-- 検索エリア - 属性検索 -->
				<uib-tab ng-if="checkKensakuTabVisible(Const.KENSAKU_TAB_ZOKUSEI)" active="searchAreaTabs[Const.KENSAKU_TAB_ZOKUSEI].active" index="Const.KENSAKU_TAB_ZOKUSEI" select="selectTab(Const.KENSAKU_TAB_ZOKUSEI)">
					<uib-tab-heading ng-title="'kensaku_tab_zokusei'|translate" tooltip>
						<span class="icon icon-pw-search-attr"></span>
					</uib-tab-heading>
					<!-- 検索エリア - 属性検索 -->
					<div class="row mt-15">
						<!-- ファイルID -->
						<label class="col-xs-6 text-right main-attr-search-label">{{$parent.searchAreaData.fileId.name}}</label>
						<div class="col-xs-6">
							<div class="select-joken text-ellipsis" ng-click="selectZokusei(-2)">
								<span ng-if="$parent.searchAreaData.fileId.kensakuJokenString">{{$parent.searchAreaData.fileId.kensakuJokenString}}</span>
								<span ng-if="!$parent.searchAreaData.fileId.kensakuJokenString">&nbsp;{{'joken_nashi'|translate}}&nbsp;<span class="glyphicon glyphicon-pencil"></span></span>
							</div>
						</div>
					</div>
					<div class="row">
						<!-- 文書種 -->
						<label class="col-xs-6 text-right main-attr-search-label">{{$parent.bunshoshuZokuseiName}}</label>
						<div class="col-xs-6">
							<div class="text-ellipsis">
								<select ng-model="$parent.searchAreaData.bunshoshu" ng-change="changeBunshoshuZokusei()" ng-options="data.id as data.name for data in $parent.bunshoshuList">
									<option value="" selected="true">{{'joken_nashi'|translate}}</option>
								</select>
							</div>
						</div>
					</div>
					<div class="row" ng-repeat="data in $parent.zokusei track by $index">
						<!-- 属性情報.IDがない場合には行を空ける -->
						<div ng-if="!data.id">&nbsp;</div>
						<div ng-if="data.id">
							<label class="col-xs-6 text-right main-attr-search-label">{{data.name}}</label>
							<div class="col-xs-6">
								<!-- 型がフラグの場合 -->
								<div class="text-ellipsis" ng-if="data.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_FLG">
									<select ng-model="data.kensakuJokenString">
										<option value="null" selected="true">{{'joken_nashi'|translate}}</option>
										<option value="true">{{'yes'|translate}}</option>
										<option value="false">{{'no'|translate}}</option>
									</select>
								</div>
								<!-- 上記以外の場合 -->
								<div class="select-joken text-ellipsis" ng-if="data.dataTypeKbn != Const.ZOKUSEI_DATA_TYPE_KBN_FLG" ng-click="selectZokusei($index)">
									<span ng-if="data.work.miSetteiFlg">&nbsp;{{'data_null'|translate}}&nbsp;</span>
									<span ng-if="data.kensakuJokenString">{{data.kensakuJokenString}}</span>
									<span ng-if="!data.kensakuJokenString && !data.work.miSetteiFlg">&nbsp;{{'joken_nashi'|translate}}&nbsp;<span class="glyphicon glyphicon-pencil"></span></span>
								</div>
							</div>
						</div>
					</div>
					<!-- チェックアウトの場合 -->
					<div class="row" ng-if="getOption(Const.OPTION_SBT_VERSION_CONTROL)">
						<label class="col-xs-6 text-right main-attr-search-label">{{'check_out'|translate}}</label>
						<div class="col-xs-6">
							<div class="text-ellipsis">
								<select ng-model="$parent.searchAreaData.checkOutJoken">
									<option value="null" selected="true">{{'joken_nashi'|translate}}</option>
									<option value="true">{{'sareteiru'|translate}}</option>
									<option value="false">{{'sareteinai'|translate}}</option>
								</select>
							</div>
						</div>
					</div>
					<!-- チェックアウト者の場合 -->
					<div class="row" ng-if="getOption(Const.OPTION_SBT_VERSION_CONTROL)">
						<label class="col-xs-6 text-right main-attr-search-label">{{$parent.searchAreaData.checkOutUser.name}}</label>
						<div class="col-xs-6">
							<div class="select-joken text-ellipsis" ng-click="selectZokusei(-1)">
								<span ng-if="$parent.searchAreaData.checkOutUser.kensakuJokenString">{{$parent.searchAreaData.checkOutUser.kensakuJokenString}}</span>
								<span ng-if="!$parent.searchAreaData.checkOutUser.kensakuJokenString">&nbsp;{{'joken_nashi'|translate}}&nbsp;<span class="glyphicon glyphicon-pencil"></span></span>
							</div>
						</div>
					</div>
				</uib-tab>
				<!-- 検索エリア - 全文検索 -->
				<uib-tab ng-if="checkKensakuTabVisible(Const.KENSAKU_TAB_ZENBUN)" active="searchAreaTabs[Const.KENSAKU_TAB_ZENBUN].active" index="Const.KENSAKU_TAB_ZENBUN" select="selectTab(Const.KENSAKU_TAB_ZENBUN)">
					<uib-tab-heading ng-title="'kensaku_tab_zenbun'|translate" tooltip>
						<span class="icon icon-pw-search-fulltext"></span>
					</uib-tab-heading>
					<!-- 検索エリア - 全文検索 -->
					<form class="form-horizontal mt-15">
						<div class="form-group">
							<!-- 文書種 -->
							<div class="col-xs-offset-1 col-xs-10">
								<select class="form-control" ng-model="$parent.searchAreaData.bunshoshuZenbun" ng-options="data.id as data.name for data in $parent.bunshoshuList">
									<option value="" selected="true">{{'joken_nashi'|translate}}</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<div class="col-xs-offset-1 col-xs-10">
								<tags-input ng-model="$parent.searchAreaData.zenbunKensakuVal" min-length="1" trim-space="false" replace-spaces-with-dashes="false" add-on-comma="false" placeholder="add_keyword"></tags-input>
							</div>
						</div>
						<div class="form-group">
							<div class="col-xs-offset-1 col-xs-10 checkbox btn-toggle">
								<input type="checkbox" data-toggle="toggle" data-width="68" ng-text="'and_on-off'|translate" ng-model="$parent.searchAreaData.zenbunKensakuAndFlg" togglebtn></input>
								<input type="checkbox" data-toggle="toggle" data-width="208" ng-text="'kanzen_icchi_on-off'|translate" ng-model="$parent.searchAreaData.zenbunKensakuKanzenIcchiFlg" togglebtn></input>
							</div>
							<div class="col-xs-offset-1 col-xs-10 checkbox btn-toggle">
								<input type="checkbox" data-toggle="toggle" data-width="280" ng-text="'includ_pdf_edit_on-off'|translate" ng-model="$parent.searchAreaData.zenbunKensakuPdfAddACharacterFlg" togglebtn></input>
							</div>
							<div class="col-xs-offset-1 col-xs-10 checkbox btn-toggle">
								<input type="checkbox" data-toggle="toggle" data-width="280" ng-text="'includ_choices_on-off'|translate" ng-model="$parent.searchAreaData.zenbunKensakuIncludChoiceFlg" togglebtn></input>
							</div>
							<div class="col-xs-offset-1 col-xs-10 checkbox btn-toggle">
								<input type="checkbox" data-toggle="toggle" data-width="280" ng-text="'includ_pdf_text_old_on-off'|translate" ng-model="$parent.searchAreaData.zenbunKensakuIncludPdfTextOldFlg" togglebtn></input>
							</div>
						</div>
					</form>
				</uib-tab>
				<!-- 検索エリア - ワークフロー検索 -->
				<uib-tab ng-if="checkKensakuTabVisible(Const.KENSAKU_TAB_WORKFLOW)" active="searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active" index="Const.KENSAKU_TAB_WORKFLOW" select="selectTab(Const.KENSAKU_TAB_WORKFLOW)">
					<uib-tab-heading ng-title="'workflow'|translate" tooltip>
						<span class="glyphicon glyphicon-inbox"></span>
						<span ng-show="(cntWorkflowSendback > 0) || (cntWorkflowWating > 0) || (cntProcessorInvalid > 0)" class="badge">
							{{cntWorkflowSendback + cntWorkflowWating + cntProcessorInvalid}}
						</span>
					</uib-tab-heading>
					<!-- 検索エリア - ワークフロー検索 -->
					<div class="list-group">
						<span class="list-group-item common-color-nav-area">
							<strong>{{'shinsei'|translate}}</strong>
						</span>
						<button id="applyProgress" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_APPLICATION_INPROGRESS}" ng-click="selectWorkflow(Const.WORKFLOW_APPLICATION_INPROGRESS)">
							<span class="glyphicon glyphicon-inbox">
								{{'shinkouchu'|translate}}
							</span>
						</button>
						<button id="applyRemand" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_APPLICATION_REMAND}" ng-click="selectWorkflow(Const.WORKFLOW_APPLICATION_REMAND)">
							<span class="glyphicon glyphicon-inbox">
								{{'sashimodoshi'|translate}}
							</span>
							<span ng-show="cntWorkflowSendback > 0" class="badge">
								{{cntWorkflowSendback}}
							</span>
						</button>
						<button id="applyRejected" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_APPLICATION_DISMISSAL}" ng-click="selectWorkflow(Const.WORKFLOW_APPLICATION_DISMISSAL)">
							<span class="glyphicon glyphicon-inbox">
								{{'kyakka'|translate}}
							</span>
						</button>
						<button id="applyFinished" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_APPLICATION_COMPLETION}" ng-click="selectWorkflow(Const.WORKFLOW_APPLICATION_COMPLETION)">
							<span class="glyphicon glyphicon-inbox">
								{{'kanryo'|translate}}
							</span>
						</button>
					</div>
					<div class="list-group">
						<span class="list-group-item panel-heading">
							<strong>{{'shonin_shutsuzu_irai'|translate}}</strong>
						</span>
						<button id="requestWaiting" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_PROCESSING_WAITING}" ng-click="selectWorkflow(Const.WORKFLOW_PROCESSING_WAITING)">
							<span class="glyphicon glyphicon-inbox">
								{{'shorimachi'|translate}}
							</span>
							<span ng-show="cntWorkflowWating > 0" class="badge">
								{{cntWorkflowWating}}
							</span>
						</button>
						<button id="requestRejected" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_PROCESSING_DISMISSAL}" ng-click="selectWorkflow(Const.WORKFLOW_PROCESSING_DISMISSAL)">
							<span class="glyphicon glyphicon-inbox">
								{{'kyakka'|translate}}
							</span>
						</button>
						<button id="requestApprove" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_PROCESSING_APPROVAL}" ng-click="selectWorkflow(Const.WORKFLOW_PROCESSING_APPROVAL)">
							<span class="glyphicon glyphicon-inbox">
								{{'shonin'|translate}}
							</span>
						</button>
						<button id="requestCheck" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_PROCESSING_CONFIRMATION}" ng-click="selectWorkflow(Const.WORKFLOW_PROCESSING_CONFIRMATION)">
							<span class="glyphicon glyphicon-inbox">
								{{'kakunin'|translate}}
							</span>
						</button>
					</div>
					<div class="list-group">
						<span class="list-group-item panel-heading">
							<strong>{{'sonota'|translate}}</strong>
						</span>
						<button id="otherDraft" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_APPLICATION_DRAFT}" ng-click="selectWorkflow(Const.WORKFLOW_APPLICATION_DRAFT)">
							<span class="glyphicon glyphicon-inbox">
								{{'shitagaki'|translate}}
							</span>
						</button>
						<button id="processorInvalid" type="button" class="list-group-item" ng-class="{'selected':workflowSelectedKbn == Const.WORKFLOW_PROCESSOR_INVALID}" ng-click="selectWorkflow(Const.WORKFLOW_PROCESSOR_INVALID)">
							<span class="glyphicon glyphicon-inbox">
								{{'shorisha_muko'|translate}}
							</span>
							<span ng-show="cntProcessorInvalid > 0" class="badge">
								{{cntProcessorInvalid}}
							</span>
						</button>
					</div>
				</uib-tab>
			</uib-tabset>
		</div>
		<!-- 検索エリア - ボタンエリア -->
		<div class="pane-serach-toolbar pane-toolbar btn-toolbar">
			<div class="btn-toolbar">
				<!-- クリア -->
				<div class="btn-group pull-right" ng-show="searchAreaTabs[Const.KENSAKU_TAB_ZOKUSEI].active || searchAreaTabs[Const.KENSAKU_TAB_ZENBUN].active">
					<button id="searchAreaClear" type="button" class="btn btn-primary btn-icon" ng-click="onClear()" ng-title="'clear'|translate" tooltip>
						<span class="ls ls-icon-eraser"></span>
					</button>
				</div>
				<!-- 検索条件保存 -->
				<div class="btn-group pull-right" ng-show="searchAreaTabs[Const.KENSAKU_TAB_ZOKUSEI].active && getKinoSeigen(Const.KINO_SBT_SEARCH_ATTRIBUTE_CONDITION_SAVE)">
					<button id="searchAreaSave" type="button" class="btn btn-primary btn-icon" ng-disabled="isKensakuJokenHozonDisabled()" ng-click="onZokuseiJokenSave()" ng-title="'kensaku_joken_hozon'|translate" tooltip>
						<span class="glyphicon glyphicon-floppy-disk"></span>
					</button>
				</div>
				<!-- 検索用CSV取込 -->
				<div class="btn-group pull-right" ng-show="searchAreaTabs[Const.KENSAKU_TAB_ZOKUSEI].active && getKinoSeigen(Const.KINO_SBT_SEARCH_ATTRIBUTE_CSV)">
					<button id="searchAreaImport" type="button" class="btn btn-primary btn-icon" ng-click="onKensakuCsvTorikomi()" ng-title="'kensakuyo_csv_torikomi'|translate" tooltip>
						<span class="icon icon-pw-search-by-csv"></span>
					</button>
				</div>
				<!-- 検索 -->
				<div class="btn-group pull-right" ng-show="searchAreaTabs[Const.KENSAKU_TAB_ZOKUSEI].active || searchAreaTabs[Const.KENSAKU_TAB_ZENBUN].active">
					<button id="searchAreaSearch" type="button" class="btn btn-primary btn-icon" ng-click="onSearch()" ng-title="'kensaku'|translate" tooltip>
						<span class="glyphicon glyphicon-search"></span>
					</button>
				</div>
				<!-- 更新 -->
				<div class="btn-group pull-right" ng-show="searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active || searchAreaTabs[Const.KENSAKU_TAB_TREE].active">
					<button id="searchAreaRefresh" type="button" class="btn btn-primary btn-icon" ng-click="onRefresh()" ng-title="'refresh'|translate" tooltip>
						<span class="glyphicon glyphicon-refresh"></span>
					</button>
				</div>
				<!-- 条件を削除 -->
				<div class="btn-group pull-right ios-disp" ng-show="searchAreaTabs[Const.KENSAKU_TAB_TREE].active">
					<button id="searchAreaKensakuJokenDelete" type="button" class="btn btn-danger btn-icon" ng-disabled="kensakuJokenDisabled || !selectedBranch" ng-click="onKensakuJokenDelete()" ng-title="'joken_delete'|translate" tooltip>
						<span class="glyphicon glyphicon-trash"></span>
					</button>
				</div>
				<!-- 名前を変更 -->
				<div class="btn-group pull-right ios-disp" ng-show="searchAreaTabs[Const.KENSAKU_TAB_TREE].active">
					<button id="searchAreaKensakuJokenNameChange" type="button" class="btn btn-primary btn-icon" ng-disabled="kensakuJokenDisabled || !selectedBranch" ng-click="onKensakuJokenNameChange()" ng-title="'name_change'|translate" tooltip>
						<span class="glyphicon glyphicon-pencil"></span>
					</button>
				</div>
			</div>
		</div>
	</div>
	<div class="pane-first-other pane-base" ng-show="(searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && workflowListData) || (!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && $parent.listAreaZokuseiList)">
		<div class="pane-error has-error" ng-show="(!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && error.listArea) || (searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && workflowError.listArea)">
			<div class="glyphicon glyphicon-exclamation-sign alert alert-danger col-xs-offset-1 col-xs-10" role="alert">
				<span ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && error.listArea">{{error.listArea}}</span>
				<span ng-show="searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && workflowError.listArea">{{workflowError.listArea}}</span>
			</div>
		</div>
		<!-- 一覧エリア -->
		<div class="pane-list pane-base" ng-show="(searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && workflowList_gridOptions.data.length > 0) || (!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && fileList_gridOptions.data.length > 0)">
			<!-- ページング -->
			<div class="pane-list-toolbar-top pane-toolbar pane-toolbar-top" ng-class="{'kosei-gyaku-tenkai':(!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && $parent.koseiGyakuTenkai)}">
				<div class="btn-toolbar">
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !trashBoxMode" class="btn-group">
						<!-- リスト表示 -->
						<label class="btn btn-primary btn-icon" ng-click="onDispListType(Const.DISP_LIST_TYPE_LIST)" ng-model="$parent.dispList" uib-btn-radio="true" ng-title="'list_hyoji'|translate" tooltip>
							<span class="glyphicon glyphicon-th-list"></span>
						</label>
						<!-- サムネイル表示 -->
						<label class="btn btn-primary btn-icon" ng-click="onDispListType(Const.DISP_LIST_TYPE_THUMBNAIL)" ng-model="$parent.dispList" uib-btn-radio="false" ng-show="getSystemSettei(Const.SYSTEM_INFO_THUMBNAIL_HEIGHT_MAX) != 0" ng-title="'thumbnail_hyoji'|translate" tooltip>
							<span class="glyphicon glyphicon-th"></span>
						</label>
					</div>
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !trashBoxMode" class="btn-group">
						<!-- 構成逆展開 -->
						<input type="checkbox" data-size="small" data-toggle="toggle" data-on="<span class='btn-icon fa fa-cogs'></span>" data-off="<span class='btn-icon fa fa-cogs'></span>"
						ng-click="toggleKosei()" ng-title="$parent.koseiGyakuTenkai ? 'gyaku_tenkai':'sei_tenkai'|translate" ng-model="$parent.koseiGyakuTenkai" togglebtn>
					</div>
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active" class="btn-group main_combo_wrapper">
						<!-- 文書種 -->
						<select id="listBunshoshu" ng-model="$parent.bunshoshu" ng-change="changeBunshoshu()" ng-options="data.id as data.name for data in $parent.bunshoshuList"></select>
					</div>
					<div class="btn-group pull-right main_combo_wrapper">
						<select ng-model="$parent.dataTypePage" ng-options="data.kbn as data.name for data in listDispCnt" ng-change="changePage(Const.PAGING_DISPCNT)"></select>
						<span class="page_label">{{'page_label'|translate}}</span>
						<span class="inline">　/　</span>
						<span class="inline">{{'page_kensu'|translate:pagination}}</span>
					</div>
					<div class="btn-group pull-right">
						<!-- 次のページ -->
						<button id="pagingNext" type="button" class="btn btn-primary btn-icon" ng-click="changePage(Const.PAGING_NEXT)" ng-disabled="pagination.dispPage == pagination.totalPage" ng-title="'page_after'|translate" tooltip>
							<span class="glyphicon glyphicon-forward"></span>
						</button>
						<!-- 最後のページ -->
						<button id="pagingLast" type="button" class="btn btn-primary btn-icon" ng-click="changePage(Const.PAGING_LAST)" ng-disabled="pagination.dispPage == pagination.totalPage" ng-title="'page_last'|translate" tooltip>
							<span class="glyphicon glyphicon-fast-forward"></span>
						</button>
					</div>
					<div class="btn-group pull-right">
						<label class="total-page">/ {{pagination.totalPage}}</label>
					</div>
					<div class="btn-group pull-right">
						<input type="text" class="text-center form-control input-sm" size="5" ng-model="pagination.dispPage" ng-focus="oldValue = pagination.dispPage" ng-blur="changeDispPage(oldValue)" jp-ng-model/>
					</div>
					<div class="btn-group pull-right">
						<!-- 最初のページ -->
						<button id="pagingFirst" type="button" class="btn btn-primary btn-icon" ng-click="changePage(Const.PAGING_FIRST)" ng-disabled="pagination.dispPage == 1 || !pagination.dispPage" ng-title="'page_first'|translate" tooltip>
							<span class="glyphicon glyphicon-fast-backward"></span>
						</button>
						<!-- 前のページ -->
						<button id="pagingPrevious" type="button" class="btn btn-primary btn-icon" ng-click="changePage(Const.PAGING_PREVIOUS)" ng-disabled="pagination.dispPage == 1 || !pagination.dispPage" ng-title="'page_before'|translate" tooltip>
							<span class="glyphicon glyphicon-backward"></span>
						</button>
					</div>
				</div>
			</div>
			<!-- 基本構成(一覧) -->
			<div class="pane-list-body" ng-style="{'overflow-y': (searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active || $parent.dispList ? 'hidden':'scroll')}">
				<!-- ワークフローリスト -->
				<div ng-show="searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active" ng-class="{'grid':searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active}" ui-grid="workflowList_gridOptions"
					ui-grid-save-state ui-grid-selection ui-grid-resize-columns ui-grid-auto-resize ui-grid-expandable></div>
				<!-- 検索リスト -->
				<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && $parent.dispList" ng-class="{'grid':!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active}" ui-grid="fileList_gridOptions"
					ui-grid-save-state ui-grid-selection ui-grid-resize-columns ui-grid-auto-resize ui-grid-tree-view ui-grid-pinning></div>
				<!-- サムネイル -->
				<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !$parent.dispList">
					<div ng-repeat="row in fileListGridApi.grid.rows">
						<div class="thumbnail thumbnail-area" ng-class="{ 'thumbnail-selected': hashKey == row.entity.$$hashKey }" ng-click="rowSelectionChanged(row.entity);" ng-if="row.treeLevel == 0">
							<div ng-show="!row.entity.thumbnail">
								<span class="image-loading-thumbnail faa-spin animated fa fa-spinner"></span>
							</div>
							<div ng-show="row.entity.thumbnail" class="thumbnail-fileArea">
								<img class="thumbnail-file-{{$index}}" ng-src="{{row.entity.thumbnail}}">
								<div class="caption thumbnail-icon">
									<!-- チェックボックス -->
									<span class="ui-grid-selection-row-header-buttons ui-grid-icon-ok ng-scope" ng-class="{'ui-grid-row-selected': row.isSelected}" ng-click="selectButtonClick(row, $event)" style=""></span>
									<!-- エラー -->
									<span class="fa fa-exclamation-circle" ng-show="row.entity.errorStatus"></span>
									<!-- スター -->
									<span class="smart-icon glyphicon" ng-class="row.entity.star ? 'glyphicon-star':'glyphicon-star-empty'" ng-click="onStarIcon($event, row.entity)"></span>
									<!-- チェックアウト -->
									<span class="glyphicon glyphicon-copy" ng-show="row.entity.checkoutFlg"></span>
									<!-- ワークフロー申請中 -->
									<span class="glyphicon glyphicon-send" ng-show="row.entity.workflowShinseiChuFlg"></span>
									<!-- 構成図面 -->
									<span ng-class="$parent.koseiGyakuTenkai ? 'fa fa-cogs':'fa fa-cogs'" ng-show="row.entity.kosei.length"></span>
								</div>
							</div>
							<div class="thumbnail-info" ng-title="row.entity.zokuseiList[0].label" tooltip>
								<!-- 表示順１の属性 -->
								{{row.entity.zokuseiList[0].label}}
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- ボタンエリア -->
			<div class="pane-list-toolbar-bottom pane-toolbar" ng-class="{'kosei-gyaku-tenkai':(!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && $parent.koseiGyakuTenkai)}">
				<div class="btn-toolbar">
					<!-- 更新 -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active" class="btn-group">
						<button id="listRefresh" type="button" class="btn btn-primary btn-icon" ng-click="onListRefresh()" ng-title="'refresh'|translate" tooltip>
							<span class="glyphicon glyphicon-refresh"></span>
						</button>
					</div>
					<!-- 印刷 -->
					<div ng-show="getKinoSeigen(Const.KINO_SBT_IO_FILE_PRINT) && !trashBoxMode" class="btn-group">
						<button id="main-print" type="button" class="btn btn-primary btn-icon" ng-click="onPrint()"
							ng-disabled="(!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !fileListGridApi.selection.getSelectedRows().length) || (searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !getWorkflowShinseiFileGridSelectedData())" ng-title="'print'|translate" tooltip>
							<span class="glyphicon glyphicon-print"></span>
						</button>
						<button id="printDropdown" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
							ng-disabled="(!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !fileListGridApi.selection.getSelectedRows().length) || (searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && !getWorkflowShinseiFileGridSelectedData())">
							<span class="caret"></span>
							<span class="sr-only"></span>
						</button>
						<ul class="dropdown-menu" ng-hover-out-hide="true" inview-menu>
							<li><a href ng-click="onPrint()">{{'print'|translate}}</a></li>
							<li ng-show="oinIchi.length > 0" role="separator" class="divider"></li>
							<li ng-repeat="data in oinIchi">
								<a href ng-click="onPrint(data.id)">{{data.name}}</a>
							</li>
						</ul>
					</div>
					<!-- 属性情報CSV出力 -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && getKinoSeigen(Const.KINO_SBT_IO_ATTRIBUTE_CSV_EXPORT) && !trashBoxMode" class="btn-group ios-non-disp">
						<button id="csvOutput" type="button" class="btn btn-primary btn-icon" ng-click="onCsvOutput(Const.CSV_OUTPUT_KBN_SELECT)" ng-title="'zokusei_joho_csv_shutsuryoku'|translate" tooltip>
							<span class="icon icon-pw-export-csv"></span>
						</button>
						<button id="csvOutputDropdown" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<span class="caret"></span>
							<span class="sr-only"></span>
						</button>
						<ul class="dropdown-menu" ng-hover-out-hide="true" inview-menu>
							<li><a href ng-click="onCsvOutput(Const.CSV_OUTPUT_KBN_SELECT)" ng-show="fileListGridApi.selection.getSelectedRows().length">{{'check_shutsuryoku'|translate}}</a></li>
							<li><a href ng-click="onCsvOutput(Const.CSV_OUTPUT_KBN_ALL)">{{'zenken_shutsuryoku'|translate}}</a></li>
						</ul>
					</div>
					<!-- ダウンロード -->
					<div class="btn-group" ng-show="!trashBoxMode" ng-if="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && getKinoSeigen(Const.KINO_SBT_EDIT_FILE_DOWNLOAD)">
						<!-- ダウンロード -->
						<button id="main-download" type="button" class="btn btn-primary btn-icon" ng-click="onZipFileDownload(isiOS() ? Const.DOWNLOAD_KBN_PDF : Const.DOWNLOAD_KBN_ORIGINAL)" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'download'|translate" tooltip>
							<span class="glyphicon glyphicon-save"></span>
						</button>
						<button id="downloadDropdown" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="!fileListGridApi.selection.getSelectedRows().length">
							<span class="caret"></span>
							<span class="sr-only"></span>
						</button>
						<ul class="dropdown-menu" ng-hover-out-hide="true" inview-menu>
							<li><a href ng-click="onZipFileDownload(Const.DOWNLOAD_KBN_ORIGINAL)" class="ios-non-disp">{{'choices_create'|translate}}</a></li>
							<li><a href ng-click="onZipFileDownload(Const.DOWNLOAD_KBN_PDF)">{{'henkan_pdf'|translate}}</a></li>
							<li><a href ng-click="onZipFileDownload(Const.DOWNLOAD_KBN_ALL)" class="ios-non-disp">{{'ryoho'|translate}}</a></li>
							<li role="separator" class="divider"></li>
							<li><a href ng-click="onZipFileDownload(Const.DOWNLOAD_KBN_ORIGINAL_KOSEI)" class="ios-non-disp">{{'choices_create'|translate}} ({{'kosei_zumen_fukumu'|translate}})</a></li>
							<li><a href ng-click="onZipFileDownload(Const.DOWNLOAD_KBN_PDF_KOSEI)">{{'henkan_pdf'|translate}} ({{'kosei_zumen_fukumu'|translate}})</a></li>
							<li><a href ng-click="onZipFileDownload(Const.DOWNLOAD_KBN_ALL_KOSEI)" class="ios-non-disp">{{'ryoho'|translate}} ({{'kosei_zumen_fukumu'|translate}})</a></li>
						</ul>
					</div>
					<!-- 上書き更新 -->
					<div class="btn-group ios-non-disp">
						<!-- 上書き更新 -->
						<button id="overwrite" type="button" class="btn btn-primary btn-icon" ng-if="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && getKinoSeigen(Const.KINO_SBT_IO_FILE_OVERWRITE)" ng-click="onOverwrite()" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'uwagaki_koshin'|translate" tooltip>
							<span class="icon icon-pw-update-file"></span>
						</button>
					</div>
					<!-- チェックアウト/チェックイン/チェックアウト解除 -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && getKinoSeigen(Const.KINO_SBT_VERSION_CHECKOUT_CHECKIN) && !trashBoxMode" class="btn-group ios-non-disp">
						<!-- チェックアウト -->
						<button id="checkout" type="button" class="btn btn-primary btn-icon" ng-click="onCheckOut()" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'check_out'|translate" tooltip>
							<span class="glyphicon glyphicon-copy"></span>
						</button>
						<!-- チェックイン -->
						<button id="checkin" type="button" class="btn btn-primary btn-icon" ng-click="onCheckIn()" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'check_in'|translate" tooltip>
							<span class="glyphicon glyphicon-paste"></span>
						</button>
						<!-- チェックアウト解除 -->
						<button id="checkoutKaijo" type="button" class="btn btn-primary btn-icon" ng-click="onCheckOutKaijo()" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'check_out_kaijo'|translate" tooltip>
							<span class="ls ls-icon-undo"></span>
						</button>
					</div>
					<!-- ワークフロー申請 -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && getKinoSeigen(Const.KINO_SBT_WORKFLOW_APPLICATION) && !trashBoxMode" class="btn-group">
						<button id="workflow" type="button" class="btn btn-primary btn-icon" ng-click="onWorkflow()" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'workflow_shinsei'|translate" tooltip>
							<span class="glyphicon glyphicon-send"></span>
						</button>
					</div>
					<!-- ファイル比較 -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && getKinoSeigen(Const.KINO_SBT_PDF_FILE_COMPARE) && !trashBoxMode" class="btn-group">
						<button id="compare" type="button" class="btn btn-primary btn-icon" ng-click="onCompare()" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'file_compare'|translate" tooltip>
							<span class="glyphicon glyphicon-duplicate"></span>
						</button>
					</div>
					<!-- 元に戻す -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && trashBoxMode" class="btn-group ios-non-disp">
						<button id="return" type="button" class="btn btn-primary btn-icon" ng-click="onListDelete(true)" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'modosu'|translate" tooltip>
							<span class="icon icon-trash_undo"></span>
						</button>
					</div>
					<!-- 削除 -->
					<div ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active 
								&& ((getKinoSeigen(Const.KINO_SBT_EDIT_FILE_DELETE_ALL) && !trashBoxMode)
								|| ((getKinoSeigen(Const.KINO_SBT_EDIT_FILE_DELETE_ALL) || getKinoSeigen(Const.KINO_SBT_EDIT_FILE_DELETE)) && trashBoxMode))" class="btn-group ios-non-disp">
						<button id="workflow" type="button" class="btn btn-danger btn-icon" ng-click="onListDelete(false)" ng-disabled="!fileListGridApi.selection.getSelectedRows().length" ng-title="'sakujo'|translate" tooltip>
							<span ng-show="trashBoxMode" class="icon icon-trash_clear"></span>
							<span ng-show="!trashBoxMode" class="glyphicon glyphicon-trash"></span>
						</button>
					</div>
				</div>
			</div>
		</div>
		<!-- 詳細エリア -->
		<div class="pane-detail-parent pane-base" ng-show="(searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && ($parent.applicationInfo || $parent.workflowShinseiFileDetailAri)) || (!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active && $parent.detailAreaData )">
			<!-- ワークフロー構成(詳細) -->
			<div id="inner-layout-detail-workflow" class="inner-layout-container">
				<!-- 申請情報エリア -->
				<div class="pane-workflow-info">
					<!-- 件名 -->
					<div class="title text-center"><strong>{{applicationInfo.subject}}</strong></div>
					<table class="table table-bordered table-striped">
						<!-- 申請者 -->
						<tr>
							<th class="info text-right col-xs-4">{{'shinseisha'|translate}}</th>
							<td class="col-xs-8">{{applicationInfo.shinseiUserName}}</td>
						</tr>
						<!-- 申請日時 -->
						<tr>
							<th class="info text-right col-xs-4">{{'shinsei_timestamp'|translate}}</th>
							<td class="col-xs-8">{{applicationInfo.shinseiTimestamp | date:"yyyy/MM/dd HH:mm" }}</td>
						</tr>
						<!-- 申請区分 -->
						<tr>
							<th class="info text-right col-xs-4">{{'shinsei_kbn'|translate}}</th>
							<td class="col-xs-8">{{applicationInfo.shinseiKbnName}}</td>
						</tr>
						<!-- 優先度 -->
						<tr>
							<th class="info text-right col-xs-4">{{'yusen'|translate}}</th>
							<td class="col-xs-8">{{applicationInfo.yusenKbnName}}</td>
						</tr>
						<!-- 状況 -->
						<tr>
							<th class="info text-right col-xs-4">{{'jokyo'|translate}}</th>
							<td class="col-xs-8">{{applicationInfo.jokyoKbnName}}</td>
						</tr>
						<!-- 申請ファイル -->
						<tr ng-if="!applicationInfo.shinseiFileList.length">
							<th class="info text-right col-xs-4">{{'shinsei_file'|translate}}</th>
							<td class="col-xs-8"></td>
						</tr>
						<tr ng-if="applicationInfo.shinseiFileList.length" ng-repeat="file in applicationInfo.shinseiFileList">
							<th ng-show="$first" rowspan="{{applicationInfo.shinseiFileList.length}}" class="info text-right col-xs-4">{{'shinsei_file'|translate}}</th>
							<td>
								{{file.fileName}}
								<div class="btn-table pull-right">
									<!-- PDF編集 -->
									<div class="btn-group">
										<button type="button" class="btn btn-primary" ng-show="authInfo.approvalFlg || authInfo.receiptConfirmationFlg" ng-click="onWorkflowFilePdfEdit(applicationInfo.id, file.fileId, authInfo.processingWorkflowJotaiKanriId)" ng-title="'pdf_henshu'|translate" tooltip>
											<span class="glyphicon glyphicon-edit"></span>
										</button>
									</div>
									<!-- プレビュー（別タブ） -->
									<div class="btn-group">
										<button type="button" class="btn btn-primary" ng-show="!(authInfo.draftApplicationFlg || authInfo.draftDeleteFlg)" ng-click="onWorkflowFileBlankPreview(applicationInfo.id, file.id)" ng-title="'preview_betutabu'|translate" tooltip>
											<span class="glyphicon glyphicon-new-window"></span>
										</button>
									</div>
								</div>
							</td>
						</tr>
						<!-- 関連ファイル -->
						<tr ng-if="!applicationInfo.kanrenFileList.length">
							<th class="info text-right col-xs-4">{{'kanren_file'|translate}}</th>
							<td class="col-xs-8"></td>
						</tr>
						<tr ng-if="applicationInfo.kanrenFileList.length" ng-repeat="file in applicationInfo.kanrenFileList">
							<th ng-show="$first" rowspan="{{applicationInfo.kanrenFileList.length}}" class="info text-right col-xs-4">{{'kanren_file'|translate}}</th>
							<td>
								{{file.fileName}}
								<div class="btn-table pull-right">
									<!-- プレビュー（別タブ） -->
									<div class="btn-group">
										<button type="button" class="btn btn-primary" ng-show="!(authInfo.draftApplicationFlg || authInfo.draftDeleteFlg)" ng-click="onWorkflowFileBlankPreview(applicationInfo.id, file.id)" ng-title="'preview_betutabu'|translate" tooltip>
											<span class="glyphicon glyphicon-new-window"></span>
										</button>
									</div>
								</div>
							</td>
						</tr>
						<!-- 添付ファイル -->
						<tr ng-if="!applicationInfo.tempuFileList.length">
							<th class="info text-right col-xs-4">{{'tempu_file'|translate}}</th>
							<td class="col-xs-8"></td>
						</tr>
						<tr ng-if="applicationInfo.tempuFileList.length" ng-repeat="file in applicationInfo.tempuFileList">
							<th ng-show="$first" rowspan="{{applicationInfo.tempuFileList.length}}" class="info text-right col-xs-4">{{'tempu_file'|translate}}</th>
							<td>
								{{file.fileName}}
								<div class="btn-table pull-right">
									<!-- ダウンロード -->
									<div class="btn-group">
										<button type="button" class="btn btn-primary" ng-show="!(authInfo.draftApplicationFlg || authInfo.draftDeleteFlg) && (!isiOS() || file.isPdf)" ng-click="onWorkflowFileDownload(applicationInfo.id, file.id, file.fileName, Const.WORKFLOW_DOWNLOAD_APPLICATION)" ng-title="'download'|translate" tooltip>
											<span class="glyphicon glyphicon-save"></span>
										</button>
									</div>
								</div>
							</td>
						</tr>
						<!-- コメント -->
						<tr>
							<th class="info text-right col-xs-4">{{'application_contents'|translate}}</th>
							<td class="col-xs-8"><span class="comment-area">{{applicationInfo.comment}}</span></td>
						</tr>
					</table>
				</div>
				<!-- ワークフロー構成 - 進行状況エリア -->
				<div class="pane-workflow-status">
					<form class="form-horizontal">
						<div class="form-group">
							<div class="col-xs-12">
								<uib-accordion>
									<div class="col-xs-12 padding-right-none padding-left-none" ng-repeat-start="data in statusList" ng-show="(statusList[{{$index}}].stepNo <= statusList[{{$index - 1}}].stepNo) && isDispHistory">
										<hr class="style-disp-history">
									</div>
									<div ng-repeat-end class="col-xs-12 padding-right-none padding-left-none" ng-hide="data.rirekiFlg && !isDispHistory" >
										<div ng-class="existHistory ? 'col-xs-11':'col-xs-12'" class="padding-right-none padding-left-none">
											<uib-accordion-group class="padding-right-none padding-left-none" is-open="statusList[$index].isOpen">
												<uib-accordion-heading>
													<a href class="list-group-item" ng-class="((authInfo.processingNo == data.stepNo) && !data.rirekiFlg) ? 'active':''">
														<div class="list-group-item-heading">
															{{data.stepNo}}.{{data.stepName}}
															<span class="glyphicon toggle-icon pull-right" ng-class="statusList[$index].isOpen ? 'glyphicon-collapse-up':'glyphicon-collapse-down'"></span>
														</div>
														<small class="list-group-item-text" ng-hide="statusList[$index].isOpen">
															<span ng-repeat="user in data.shoriUserList">
																<span ng-show="user.shoriKbn != Const.WORKFLOW_SHORI_KBN_UNTREATED && user.shoriKbn != Const.WORKFLOW_SHORI_KBN_PASS">
																	&nbsp;<span class="label" ng-class="getShoriKbnLabelClass(user.shoriKbn)">{{user.shoriKbnName}}</span>
																	&nbsp;{{user.shoriUserName}}
																</span>
															</span>
														</small>
													</a>
												</uib-accordion-heading>
												<div class="col-xs-12">{{data.keiroSbtName}}</div>
												<table class="col-xs-12">
													<tr ng-repeat-start="user in data.shoriUserList">
														<td colspan="2">
															<hr class="style-table-separator">
														</td>
													</tr>
													<tr ng-repeat-end>
														<td class="col-xs-1">
															<span class="label" ng-class="getShoriKbnLabelClass(user.shoriKbn)" ng-show="user.shoriKbn != Const.WORKFLOW_SHORI_KBN_UNTREATED && user.shoriKbn != Const.WORKFLOW_SHORI_KBN_PASS">{{user.shoriKbnName}}</span>
														</td>
														<td class="col-xs-11">
															<div class="row">
																<span class="col-xs-6">{{user.shoriUserName}}</span>
																<span class="col-xs-6">{{user.shoriTimestamp | date:"yyyy/MM/dd HH:mm" }}</span>
															</div>
															<div ng-repeat="tempFile in user.tempuFileList">
																<span class="col-xs-10 small">{{tempFile.fileName}}</span>
																<div class="col-xs-2 btn-table">
																	<div class="btn-group">
																		<button type="button" class="btn btn-primary" ng-click="onWorkflowFileDownload(applicationInfo.id, tempFile.id, tempFile.fileName, Const.WORKFLOW_DOWNLOAD_ATTACHMENT)" ng-title="'download'|translate" ng-show="!isiOS() || tempFile.isPdf" tooltip>
																			<span class="glyphicon glyphicon-save"></span>
																		</button>
																	</div>
																</div>
															</div>
															<div class="row">
																<span class="col-xs-12 comment-area">{{user.comment}}</span>
															</div>
														</td>
													</tr>
												</table>
											</uib-accordion-group>
										</div>
										<!-- 進行状況履歴 -->
										<!-- 履歴ステップが存在する場合 且つ 下記何れかを満たした場合
											・履歴情報表示時 且つ （最初のステップ 又は １つ前が最後の履歴ステップ）
											・履歴情報非表示時 且つ 履歴フラグがOFF 且つ ステップNoが１
										-->
										<div class="padding-left-none history-btn col-xs-1" ng-show="existHistory && ((isDispHistory && ($first || $index - 1 == lastHistoryStepData)) || (!isDispHistory && !statusList[{{$index}}].rirekiFlg && statusList[{{$index}}].stepNo == 1))">
											<button type="button" ng-class="isDispHistory ? 'btn-primary':'history-open'" class="btn btn-block btn-icon" ng-click="onDispHistory()" ng-title="isDispHistory ? 'shinkou_jokyo_rireki_close':'shinkou_jokyo_rireki_open'|translate" tooltip>
												<span class="fa fa-clock-o"></span>
											</button>
										</div>
									</div>
								</uib-accordion>
							</div>
						</div>
						<div class="form-group" ng-show="authInfo.approvalFlg || authInfo.circulationConfirmationFlg || authInfo.receiptConfirmationFlg">
							<!-- コメント -->
							<div ng-class="(authInfo.approvalFlg && !isiOS()) ? 'col-sm-8' : 'col-sm-12'">
								<div class="form-group" ng-show="authInfo.approvalFlg || authInfo.circulationConfirmationFlg || authInfo.receiptConfirmationFlg">
									<label class="col-xs-12">{{'comment'|translate}}</label>
									<div class="col-xs-12">
										<textarea class="form-control" rows="4" ng-model="$parent.workflowStatusComment" ng-attr-placeholder={{getCommentPlaceholder()}} jp-ng-model></textarea>
									</div>
								</div>
							</div>
							<!-- 添付ファイル選択 -->
							<div ng-class="(authInfo.approvalFlg || authInfo.circulationConfirmationFlg || authInfo.receiptConfirmationFlg) ? 'col-sm-4' : 'col-sm-12'">
								<div class="form-group ios-non-disp" ng-show="authInfo.approvalFlg">
									<label class="col-xs-12">{{'tempu_file'|translate}}</label>
									<div class="col-xs-12">
										<div ngf-drop ngf-select ng-model="files" class="upload-drop-zone" ngf-drag-over-class="'dragover'" ngf-multiple="true" ngf-change="inputFile()">
											{{'drop_area_comment'|translate}}
										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- 添付ファイル -->
						<div class="form-group ios-non-disp" ng-show="authInfo.approvalFlg">
							<div class="col-xs-12" ng-class="{'has-error': error.tempFile}">
								<div ui-grid="shonin_gridOptions" ui-grid-resize-columns ui-grid-auto-resize ng-style="getTableHeight(shonin_gridOptions, Const.MAX_CNT_SHONIN_TEMP_FILE_LIST, 1)"></div>
							</div>
						</div>
						<div class="form-group has-error" ng-show="error.tempFile">
							<div class="col-xs-12">
								<p class="help-block">
									<span class="glyphicon glyphicon-exclamation-sign"></span>{{error.tempFile}}
								</p>
							</div>
						</div>
						<!-- ボタンエリア -->
						<div class="form-group">
							<div class="col-xs-12">
								<div class="btn-toolbar">
									<!-- 編集 -->
									<div class="btn-group" ng-show="authInfo.draftApplicationFlg">
										<button type="button" class="btn btn-primary btn-icon" ng-click="onDraftApplication(applicationInfo.id)" ng-title="'henshu'|translate" tooltip>
											<span class="glyphicon glyphicon-send"></span>
										</button>
									</div>
									<!-- 再申請 -->
									<div class="btn-group" ng-show="authInfo.remandReapplicationFlg">
										<button type="button" class="btn btn-primary btn-icon" ng-click="onRemandReapplication(applicationInfo.id)" ng-title="'sai_shinsei'|translate" tooltip>
											<span class="glyphicon glyphicon-send"></span>
										</button>
									</div>
									<!-- 下書き削除 -->
									<div class="btn-group" ng-show="authInfo.draftDeleteFlg">
										<button type="button" class="btn btn-danger btn-icon" ng-click="onDraftCancel(applicationInfo.id)" ng-title="'shitagaki_delete'|translate" tooltip>
											<span class="glyphicon glyphicon-trash"></span>
										</button>
									</div>
									<!-- 申請取消 -->
									<div class="btn-group" ng-show="authInfo.applicationCancelFlg">
										<button type="button" class="btn btn-danger btn-icon" ng-click="onApplicationCancel()" ng-title="'shinsei_torikeshi'|translate" tooltip>
											<span class="glyphicon glyphicon-trash"></span>
										</button>
									</div>
									<!-- 確認取消 -->
									<div class="btn-group pull-right" ng-show="authInfo.receiptConfirmationCancelFlg">
										<button type="button" class="btn btn-danger btn-icon" ng-click="onApprovalConfirmationCancel(Const.WORKFLOW_STATUS_CONFIRMATION_CANCEL)" ng-title="'kakunin_torikeshi'|translate" tooltip>
											<span class="icon icon-pw-confirm-cancel"></span>
										</button>
									</div>
									<!-- 承認取消 -->
									<div class="btn-group pull-right" ng-show="authInfo.approvalCancelFlg">
										<button type="button" class="btn btn-danger btn-icon" ng-click="onApprovalConfirmationCancel(Const.WORKFLOW_STATUS_APPROVAL_CANCEL)" ng-title="'shonin_torikeshi'|translate" tooltip>
											<span class="icon icon-pw-assent-cancel"></span>
										</button>
									</div>
									<!-- 却下 -->
									<div class="btn-group pull-right" ng-show="authInfo.approvalFlg">
										<button type="button" class="btn btn-danger btn-icon" ng-click="onDismissal()" ng-disabled="!workflowStatusComment" ng-title="'kyakka'|translate" tooltip>
											<span class="fa fa-hand-paper-o"></span>
										</button>
									</div>
									<!-- 差し戻し -->
									<div class="btn-group dropup pull-right" ng-show="authInfo.approvalFlg || authInfo.receiptConfirmationFlg">
										<button type="button" class="btn btn-warning dropdown-toggle btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="!workflowStatusComment" ng-title="'sashimodoshi'|translate" tooltip>
											<span class="fa fa-reply"></span>
											<span class="caret"></span>
										</button>
										<ul class="dropdown-menu">
											<li ng-repeat="data in remandList">
												<a href ng-click="onRemand(data.stepNo)">{{data.stepNameDisp}}</a>
											</li>
										</ul>
									</div>
									<!-- 確認 -->
									<div class="btn-group pull-right" ng-show="authInfo.circulationConfirmationFlg || authInfo.receiptConfirmationFlg">
										<button type="button" class="btn btn-primary btn-icon btn-icon-large" ng-click="onConfirmation()" ng-title="'kakunin'|translate" tooltip>
											<span class="icon icon-pw-confirm"></span>
										</button>
									</div>
									<!-- 削除 -->
									<div class="btn-group" ng-show="authInfo.completeDeleteFlg">
										<button type="button" class="btn btn-danger btn-icon" ng-click="onCompletedDelete(applicationInfo.id)" ng-title="'sakujo'|translate" tooltip>
											<span class="glyphicon glyphicon-trash"></span>
										</button>
									</div>
									<!-- 承認 -->
									<div class="btn-group pull-right" ng-show="authInfo.approvalFlg">
										<button type="button" class="btn btn-primary btn-icon btn-icon-large" ng-click="onApproval()" ng-title="'shonin'|translate" tooltip>
											<span class="icon icon-pw-assent"></span>
										</button>
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
			<!-- 基本構成(詳細) -->
			<div id="inner-layout-detail" class="inner-layout-container">
				<div class="pane-second-other pane-base">
					<!-- 基本構成 - 詳細エリア -->
					<div class="pane-detail pane-base">
						<div class="pane-detail-body">
							<uib-tabset justified="true">
								<!-- 詳細エリア - 属性タブ -->
								<uib-tab index=Const.DETAIL_TAB_ZOKUSEI>
									<uib-tab-heading ng-title="'zokusei'|translate" tooltip>
										<span class="has-error" ng-show="hasDetailTabZokuseiError">
											<span class="control-label">
												<span class="glyphicon glyphicon-exclamation-sign"></span>
											</span>
										</span>
										<span class="glyphicon glyphicon-tags"></span>
									</uib-tab-heading>
									<form class="form-horizontal">
										<!-- 【公開】 -->
										<div class="form-group" ng-show="detailAreaData.displayKokaiFlg">
											<label class="col-sm-3 control-label">{{'kokai'|translate}}</label>
											<div class="col-sm-9 checkbox data-toggle-text" ng-class="{'disabled': !isEditMode()}">
												<input type="checkbox" data-toggle="toggle" ng-text="'on-off'|translate" ng-model="detailAreaData.kokaiFlg" ng-change="changeKokaiFlg()" ng-disabled="!isEditMode()" togglebtn></input>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label">{{detailAreaData.fixedColName.id}}</label>
											<div class="col-sm-5">
												<input type="text" class="form-control input-number" ng-model=detailAreaData.id disabled></input>
											</div>
											<div class="col-sm-4 main-detaile btn-icon">
												<!-- チェックアウト中 -->
												<span ng-show="detailAreaData.checkoutFlg" class="glyphicon glyphicon-copy"></span>
												<!-- ワークフロー申請中 -->
												<span ng-show="detailAreaData.workflowShinseiChuFlg" class="glyphicon glyphicon-send"></span>
												<!-- PDFセキュリティ設定 -->
												<span ng-show="detailAreaData.pdfPasswordFlg" class="fa fa-shield"></span>
											</div>
										</div>
										<!-- 【文書種】 -->
										<div class="form-group" ng-class="{'has-error': detailAreaData.bunshoshuError}">
											<label class="col-sm-3 control-label">{{bunshoshuZokuseiName}}</label>
											<div class="col-sm-9 main_combo_wrapper" ng-class="{'disabled': !isEditMode()}">
												<select ng-model="detailAreaData.bunshoshuId" class="form-control form-control-zokusei" ng-change="changeBunshoshuDetail()" ng-disabled="!isEditMode()" ng-options="data.id as data.name for data in bunshoshuList"></select>
											</div>
										</div>
										<div class="form-group has-error" ng-show="detailAreaData.bunshoshuError">
											<div class="col-sm-offset-3 col-sm-9">
												<p class="help-block">
													<span class="glyphicon glyphicon-exclamation-sign"></span>{{detailAreaData.bunshoshuError}}
												</p>
											</div>
										</div>
										<!-- 【各種、属性エリア】 -->
										<div class="form-group" ng-class="{'has-error': zokusei.error}" ng-repeat-start="zokusei in detailAreaData.zokuseiList">
											<label class="col-sm-3 control-label" for="{{$index}}">{{zokusei.zokuseiName}}</label>
											<div class="col-sm-9">
												<span ng-class="{'input-group': {{$first}} || (zokusei.kihonZokuseiSbt == Const.KIHON_ZOKUSEI_SBT_FILENAME && !isEditMode()) || zokusei.first }">
													<!-- 行間 -->
													<span ng-if="!zokusei.zokuseiId">
														<span ng-if="!$first">&nbsp;</span>
													</span>
													<!-- 表示項目 -->
													<span ng-if="!isEditMode() && zokusei.zokuseiId">
														<!-- 属性タイプ区分が「メモ」 -->
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_MEMO">
															<textarea id="label_{{$index}}" rows="3" class="form-control form-control-zokusei" ng-model="zokusei.label" disabled></textarea>
														</div>
														<span ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_NUM">
															<input id="label_{{$index}}" type="text" class="form-control form-control-zokusei input-number" ng-model=zokusei.label disabled></input>
														</span>
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_DATE">
															<input id="label_{{$index}}" type="text" class="form-control form-control-zokusei" ng-model="zokusei.kbn" disabled>
														</div>
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_FLG">
															<div class="checkbox data-toggle-text disabled">
																<input id="label_{{$index}}" type="checkbox" data-toggle="toggle" ng-model="zokusei.kbn" ng-disabled="true" togglebtn></input>
															</div>
														</div>
														<span ng-if="(zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_TEXT) || (zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_TAG) || (zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_SELECT) || (zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_SELECT_MULTI)">
															<input id="label_{{$index}}" type="text" class="form-control form-control-zokusei" ng-model=zokusei.label disabled></input>
														</span>
													</span>
													<!-- 編集項目 -->
													<span ng-if="isEditMode() && zokusei.zokuseiId">
														<!-- 属性タイプ区分が「テキスト」(フォルダパス以外) -->
														<span ng-if="(zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_TEXT) && (zokusei.kihonZokuseiSbt != Const.KIHON_ZOKUSEI_SBT_FOLDER_PATH)">
															<input id="{{$index}}" type="text" class="form-control form-control-zokusei" ng-model=zokusei.kbn ng-disabled="!zokusei.henkoKaFlg" jp-ng-model></input>
														</span>
														<!-- 属性タイプ区分が「テキスト」(フォルダパス) -->
														<div ng-if="(zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_TEXT) && (zokusei.kihonZokuseiSbt == Const.KIHON_ZOKUSEI_SBT_FOLDER_PATH)">
															<input id="{{$index}}" type="text" class="form-control form-control-zokusei" autocomplete="on" list="folderList" ng-model=zokusei.kbn ng-disabled="!zokusei.henkoKaFlg" jp-ng-model></input>
															<datalist id="folderList">
																<option data-ng-repeat="option in zokusei.zokuseiSentakushi" value="{{option.name}}">
															</datalist>
														</div>
														<!-- 属性タイプ区分が「メモ」 -->
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_MEMO">
															<textarea id="{{$index}}" rows="3" class="form-control form-control-zokusei" ng-model="zokusei.kbn" ng-disabled="!zokusei.henkoKaFlg" jp-ng-model></textarea>
														</div>
														<!-- 属性タイプ区分が「タグ」 -->
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_TAG">
															<tags-input id="{{$index}}" class="form-control form-control-zokusei form-control-tag" ng-model="zokusei.kbn" min-length="1" trim-space="false" replace-spaces-with-dashes="false" add-on-comma="false" placeholder="add_attribute_value" ng-disabled="!zokusei.henkoKaFlg"></tags-input>
														</div>
														<!-- 属性タイプ区分が「フラグ」 -->
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_FLG">
															<div class="checkbox data-toggle-text" ng-class="{'disabled': !zokusei.henkoKaFlg}">
																<input type="checkbox" data-toggle="toggle" ng-model="zokusei.kbn" ng-disabled="!zokusei.henkoKaFlg" togglebtn></input>
															</div>
														</div>
														<!-- 属性タイプ区分が「数値」 -->
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_NUM">
															<input id="{{$index}}" type="text" class="form-control input-number form-control-zokusei" ng-model="zokusei.kbn" ng-disabled="!zokusei.henkoKaFlg" jp-ng-model>
														</div>
														<!-- 属性タイプ区分が「日付」 -->
														<div ng-if="zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_DATE">
															<input id="{{$index}}" type="text" class="form-control form-control-zokusei" ng-model="zokusei.kbn" ng-disabled="!zokusei.henkoKaFlg" datepicker>
														</div>
														<!-- 属性タイプ区分が「選択肢」 -->
														<div ng-if="(zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_SELECT && zokusei.henkoKaFlg)" class="main_combo_wrapper">
															<select id="{{$index}}" class="form-control form-control-zokusei" ng-model="zokusei.kbn" ng-options="data.id as data.name for data in zokusei.zokuseiSentakushi" ng-disabled="!zokusei.henkoKaFlg">
																<option value=""></option>
															</select>
														</div>
														<!-- 属性タイプ区分が「複数選択肢」 -->
														<div ng-if="(zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_SELECT_MULTI && zokusei.henkoKaFlg)">
															<tags-input id="{{$index}}" class="form-control form-control-zokusei form-control-tag" display-property="name" key-property="id" min-length="1" placeholder="add_attribute_value" replace-spaces-with-dashes="false"   on-tag-adding="onTagAdding($tag)" ng-model="zokusei.kbn" ng-disabled="!zokusei.henkoKaFlg">
																<auto-complete source="loadMaster($query, zokusei.zokuseiSentakushi)" load-on-focus="true" load-on-empty="true" min-length="0" max-results-to-show="{{Const.MAX_RESULTS_TO_SHOW}}" template="app/common/autoCompleteTemplate.html"></auto-complete>
															</tags-input>
														</div>
														<!-- 属性タイプ区分が「選択肢」又は「複数選択肢」で変更不可項目の場合、単純にテキスト表示だけを行う -->
														<span ng-if="(zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_SELECT || zokusei.dataTypeKbn == Const.ZOKUSEI_DATA_TYPE_KBN_SELECT_MULTI) && !zokusei.henkoKaFlg">
															<input id="label_{{$index}}" type="text" class="form-control form-control-zokusei" ng-model=zokusei.label disabled></input>
														</span>
													</span>
													<!-- 最初の項目にスターを付与 -->
													<span ng-if="$first" class="input-group-addon btn btn-default btn-icon" ng-click="isEditMode() || onStarIcon($event, detailAreaData)"
														ng-title="'star'|translate" ng-disabled="isEditMode()" tooltip>
														<span class="glyphicon" ng-class="detailAreaData.star ? 'glyphicon-star':'glyphicon-star-empty'"></span>
													</span>
													<!-- ファイル項目にプレビューを付与 -->
													<span ng-if="zokusei.kihonZokuseiSbt == Const.KIHON_ZOKUSEI_SBT_FILENAME && !isEditMode()" class="input-group-addon btn btn-primary btn-icon" ng-click="onBlankPreview(detailAreaData.id)"
														ng-title="'preview_betutabu'|translate" tooltip>
														<span class="glyphicon glyphicon-new-window"></span>
													</span>
												</span>
											</div>
										</div>
										<div class="form-group has-error" ng-show="zokusei.error" ng-repeat-end>
											<div class="col-sm-offset-3 col-sm-9">
												<p class="help-block">
													<span class="glyphicon glyphicon-exclamation-sign"></span>{{zokusei.error}}
												</p>
											</div>
										</div>
									</form>
								</uib-tab>
								<!-- 詳細エリア - 構成図面タブ -->
								<uib-tab index=Const.DETAIL_TAB_KOSEI>
									<uib-tab-heading ng-title="'kosei_zumen'|translate" tooltip>
										<span class="has-error" ng-show="hasDetailTabKoseiError">
											<span class="control-label">
												<span class="glyphicon glyphicon-exclamation-sign"></span>
											</span>
										</span>
										<span class="fa fa-cogs"></span>
									</uib-tab-heading>
									<div ui-grid="kosei_gridOptions" ui-grid-resize-columns ui-grid-auto-resize ui-grid-edit ng-style="getTableHeight(kosei_gridOptions, Const.MAX_CNT_DETAIL_KOSEI_FILE_LIST)"></div>
									<div class="btn-group">
										<!-- 追加 -->
										<button type="button" class="btn btn-primary btn-icon" ng-if="isEditMode()" ng-click="onAddFile(Const.DETAIL_TAB_KOSEI)" ng-title="'add'|translate" tooltip>
											<span class="glyphicon glyphicon-plus-sign"></span>
										</button>
									</div>
								</uib-tab>
								<!-- 詳細エリア - 関連資料タブ -->
								<uib-tab index=Const.DETAIL_TAB_KANREN>
									<uib-tab-heading ng-title="'kanren_file'|translate" tooltip>
										<span class="glyphicon glyphicon-paperclip"></span>
									</uib-tab-heading>
									<div ui-grid="kanren_gridOptions" ui-grid-resize-columns ui-grid-auto-resize ng-style="getTableHeight(kanren_gridOptions, Const.MAX_CNT_DETAIL_KANREN_FILE_LIST)"></div>
									<div class="btn-group">
										<!-- 追加 -->
										<button type="button" class="btn btn-primary btn-icon" ng-if="isEditMode()" ng-click="onAddFile(Const.DETAIL_TAB_KANREN)" ng-title="'add'|translate" tooltip>
											<span class="glyphicon glyphicon-plus-sign"></span>
										</button>
									</div>
								</uib-tab>
							</uib-tabset>
						</div>
						<div class="pane-detail-toolbar pane-toolbar btn-toolbar" ng-show="!searchAreaTabs[Const.KENSAKU_TAB_WORKFLOW].active">
							<!-- ファイル削除 -->
							<div class="btn-group pull-left ios-non-disp">
								<button type="button" class="btn btn-danger btn-icon" ng-click="onFileDelete()" ng-if="getKinoSeigen(Const.KINO_SBT_EDIT_FILE_DELETE) && !isEditMode()" ng-title="'file_delete'|translate" tooltip>
									<span class="glyphicon glyphicon-trash"></span>
								</button>
							</div>
							<!-- ファイル差し替え -->
							<div class="btn-group pull-right ios-non-disp">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onFileReplace()" ng-if="getKinoSeigen(Const.KINO_SBT_VERSION_REPLACE) && !isEditMode()" ng-title="'file_change'|translate" tooltip>
									<span class="icon icon-pw-update-file"></span>
								</button>
							</div>
							<!-- PDF変換 -->
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onPdfConvert()" ng-if="getKinoSeigen(Const.KINO_SBT_PDF_CONVERT) && !isEditMode()" ng-title="'pdf_henkan'|translate" tooltip>
									<span class="fa fa-file-pdf-o"></span>
								</button>
							</div>
							<!-- PDFセキュリティ -->
							<div class="btn-group pull-right ios-non-disp">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onPdfSecurity()" ng-if="getKinoSeigen(Const.KINO_SBT_PDF_SECURITY_SET) && !isEditMode()" ng-title="'pdf_security'|translate" tooltip>
									<span class="fa fa-shield"></span>
								</button>
							</div>
							<!-- PDF編集 -->
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onPdfEdit(detailAreaData.id)" ng-if="getKinoSeigen(Const.KINO_SBT_PDF_EDIT) && !isEditMode()" ng-title="'pdf_henshu'|translate" tooltip>
									<span class="glyphicon glyphicon-edit"></span>
								</button>
							</div>
							<!-- アプリ連携 -->
							<div class="btn-group dropup pull-right ios-non-disp">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onAppLink(Const.APP_LINK_DOWNLOAD)" ng-if="getKinoSeigen(Const.KINO_SBT_EDIT_CAD_COOP) && !isEditMode()" ng-title="'app_renkei'|translate" tooltip>
									<span class="ls ls-icon-app"></span>
								</button>
								<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-if="getKinoSeigen(Const.KINO_SBT_EDIT_CAD_COOP) && !isEditMode()">
									<span class="caret"></span>
									<span class="sr-only">test</span>
								</button>
								<ul class="dropdown-menu left-fit" ng-hover-out-hide="true" inview-menu>
									<li><a href ng-click="onAppLink(Const.APP_LINK_DOWNLOAD)">{{'download'|translate}}</a></li>
									<li><a href ng-show="!detailAreaData.checkoutFlg && getKinoSeigen(Const.KINO_SBT_VERSION_CHECKOUT_CHECKIN)" ng-click="onAppLink(Const.APP_LINK_CHECKOUT)">{{'check_out'|translate}}</a></li>
								</ul>
							</div>
							<!-- 属性編集 -->
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onZokuseiEdit()" ng-if="getKinoSeigen(Const.KINO_SBT_IO_ATTRIBUTE_UPDATE) && !isEditMode()" ng-title="'zokusei_henshu'|translate" tooltip>
									<span class="icon icon-pw-edit-attr"></span>
								</button>
							</div>
							<!-- キャンセル -->
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-primary btn-icon" ng-click="onCancel()" ng-if="isEditMode()" ng-title="'cancel'|translate" tooltip>
									<span class="glyphicon glyphicon-remove"></span>
								</button>
							</div>
							<!-- OK -->
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-primary btn-icon btn-icon-large" ng-click="onSave()" ng-if="isEditMode()" ng-title="'ok'|translate" tooltip>
									<span class="glyphicon glyphicon-ok"></span>
								</button>
							</div>
							<!--属性情報取得 -->
							<div class="btn-group pull-right">
								<!-- （オプション）図脳ファイルから属性情報取得 なし　又は　図脳ファイルではない　又は　オリジナルファイルが未登録 -->
								<button type="button" class="btn btn-primary btn-icon" ng-click="onZokuseiAcquisition()" ng-if="isEditMode() && getOption(Const.OPTION_SBT_ZUNO_FILE_ATTRIBUTE) && detailAreaData.dispZokuseiJohoShutoku" ng-title="'zokusei_joho_shutoku'|translate" tooltip>
									<span class="icon icon-attribute"></span>
								</button>
							</div>
						</div>
					</div>
					<!-- 基本構成 - コメントエリア -->
					<div class="pane-comment">
						<div class="pane-comment-body" load-more="scrollComment()">
							<div ng-repeat="data in detailAreaData.log">
								<div ng-class="getCommentDataClass(data.logKbn, data.createUserId)" class="alert comment-block alert-font-color">
									<dl>
										<dt>
											<span ng-class="(data.logKbn == Const.LOG_KBN_COMMENT) ? 'fa fa-comment':((data.logKbn == Const.LOG_KBN_HANKANRI) ? 'fa fa-files-o':'glyphicon glyphicon-info-sign')"></span>
											{{data.createTimestamp | date:"yyyy/MM/dd HH:mm"}} - {{data.createUserName}}
										</dt>
										<dd>
											<div ng-if="data.hanKanriId">
												<!-- 版番号を表示 -->
												<span>{{'han_no'|translate}} : {{data.hanNo}}</span>
												<!-- プレビュー（別タブ） -->
												<div class="btn-group inline">
													<div class="btn btn-primary" ng-click="onBlankPreview(data.fileId, data.hanKanriId)" ng-show="data.preview" ng-title="'preview_betutabu'|translate" tooltip>
														<span class="glyphicon glyphicon-new-window"></span>
													</div>
												</div>
												<!-- ダウンロード -->
												<div class="btn-group drop-right inline" ng-show="((data.download && !isiOS()) || data.preview) && getKinoSeigen(Const.KINO_SBT_EDIT_FILE_DOWNLOAD)">
													<div class="btn btn-primary" ng-click="onOriginalFileDownload(data.fileId, data.hanKanriId, data.fileName, data.download && !isiOS() ? Const.DOWNLOAD_KBN_ORIGINAL:Const.DOWNLOAD_KBN_PDF)" ng-title="'download'|translate" tooltip>
														<span class="glyphicon glyphicon-save"></span>
													</div>
													<button id="downloadDropdown" type="button" ng-if="data.download && data.preview && !isiOS()" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
														<span class="caret caret-right"></span>
														<span class="sr-only"></span>
													</button>
													<ul class="dropdown-menu" ng-if="data.download && data.preview" inview-menu>
														<li><a href ng-click="onOriginalFileDownload(data.fileId, data.hanKanriId, data.fileName, Const.DOWNLOAD_KBN_ORIGINAL)">{{'choices_create'|translate}}</a></li>
														<li><a href ng-click="onOriginalFileDownload(data.fileId, data.hanKanriId, data.fileName, Const.DOWNLOAD_KBN_PDF)">{{'henkan_pdf'|translate}}</a></li>
														<li><a href ng-click="onOriginalFileDownload(data.fileId, data.hanKanriId, data.fileName, Const.DOWNLOAD_KBN_ALL)">{{'ryoho'|translate}}</a></li>
													</ul>
												</div>
											</div>
											<span class="comment-area">{{data.comment}}</span>
										</dd>
									</dl>
								</div>
							</div>
							<div class="comment-loading" ng-if="commentLoading">
								<span class="faa-spin animated fa fa-spinner"></span>
							</div>
						</div>
						<div class="pane-comment-toolbar-top pane-toolbar pane-toolbar-top">
							<div class="input-group" ng-show="getKinoSeigen(Const.KINO_SBT_IO_COMMENT_INPUT)">
								<textarea class="form-control input-sm" rows="2" ng-model="comment" ng-attr-placeholder={{'comment_textarea_comment'|translate}} jp-ng-model></textarea>
								<!-- 送信 -->
								<div class="input-group-addon btn btn-primary btn-icon" ng-click="!comment || onCommentSave()" ng-disabled="!comment" ng-title="'send'|translate" tooltip>
									<span class="fa fa-commenting-o"></span>
								</div>
							</div>
						</div>
						<div class="pane-comment-toolbar-bottom pane-toolbar pane-toolbar-bottom">
							<!-- 版履歴 -->
							<input type="checkbox" data-size="small" data-toggle="toggle" data-on="<span class='btn-icon fa fa-files-o'></span>" data-off="<span class='btn-icon fa fa-files-o'></span>"
								ng-click="toggleComment()" ng-title="'han_rireki'|translate" ng-model="$parent.commentInfo.hanRireki" togglebtn>
							<!-- コメント表示 -->
							<input type="checkbox" data-size="small" data-toggle="toggle" data-on="<span class='btn-icon fa fa-comment'></span>" data-off="<span class='btn-icon fa fa-comment'></span>"
								ng-click="toggleComment()" ng-title="'comment'|translate" ng-model="$parent.commentInfo.comment" togglebtn>
							<!-- 変更履歴 -->
							<input type="checkbox" data-size="small" data-toggle="toggle" data-on="<span class='btn-icon glyphicon glyphicon-info-sign'></span>" data-off="<span class='btn-icon glyphicon glyphicon-info-sign'></span>"
								ng-click="toggleComment()" ng-title="'henko_rireki'|translate" ng-model="$parent.commentInfo.henkoRireki" togglebtn>
						</div>
					</div>
				</div>
				<!-- 基本構成 - プレビューエリア -->
				<div class="pane-preview">
					<div class="pane-error has-error" ng-show="errorPreview">
						<div class="glyphicon glyphicon-exclamation-sign alert alert-danger col-xs-offset-1 col-xs-10" role="alert">
							{{errorPreview}}
						</div>
					</div>
					<div class="preview" ng-show="!errorPreview">
						<pdfjs-viewer 
							ng-class="getSystemSettei(Const.SYSTEM_INFO_PREVIEW_TOOLBAR_BTN_DISP_FLG).toLowerCase() === 'true' ? noPrint ? 'display-download' : 'display-print display-download' : ''" 
							ng-if="pdfSrc" 
							src="{{ pdfSrc }}" 
							open="false" 
							download="false" 
							print="false">
						</pdfjs-viewer>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<a ng-href="{{jnlp}}" id="jnlp" style="display: none;"></a>

